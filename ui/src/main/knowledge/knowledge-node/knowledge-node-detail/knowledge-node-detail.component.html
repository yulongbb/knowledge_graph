<x-page-header title="标题" subTitle="小标题" (backClick)="backClick()"> </x-page-header>



<h3>{{ title }}</h3>
<x-form *ngIf="type!='info'" #form [disabled]="disabled" [controls]="controls" direction="row" labelSuffix=":"
  labelWidth="6rem" width="30rem" labelAlign="end" span="20" space="2"></x-form>
<x-upload action="http://localhost:3000/api/minio-client/uploadFile" multiple (uploadSuccess)="uploadSuccess($event)">
</x-upload>
<div class="app-footer">
  <x-buttons space="0.5">
    <x-button (click)="action('cancel')">取消</x-button>
    <x-button type="primary" (click)="!formInvalid && action('save')" [disabled]="formInvalid || disabled">保存</x-button>
  </x-buttons>
</div>

<div *ngIf="type=='info'">

  <h1>{{item?.labels?.zh?.value}}<small>({{item?.type?.label}})</small></h1>
  <p>{{item?.descriptions?.zh?.value}}</p>

  <img width="500" *ngIf="item?.type?.label=='图像'" [src]="'http://localhost:9000/kgms/'+item['labels']['zh']['value']">

  <video width="500" *ngIf="item?.type?.label=='视频'" controls>
    <source [src]="'http://localhost:9000/kgms/'+item['labels']['zh']['value']" type="video/mp4" />
    <p>
      你的浏览器不支持 HTML5 视频。这里有一个<a href="myVideo.mp4" download="myVideo.mp4">视频</a>链接。
    </p>
  </video>


  <figure width="500" *ngIf="item?.type?.label=='音频'">
    <figcaption>点击播放音频:</figcaption>
    <audio controls [src]="'http://localhost:9000/kgms/'+item['labels']['zh']['value']"></audio>
    <a [href]="'http://localhost:9000/kgms/'+item['labels']['zh']['value']"> 下载音频 </a>
  </figure>

  <iframe *ngIf="item?.type?.label=='PDF'" id="inlineFrameExample" title="Inline Frame Example" frameborder="0"
    width="100%" height="1500"
    [src]="trustUrl('http://localhost:7777/web/viewer.html?file=/pdf/kgms/'+item['labels']['zh']['value'])">
  </iframe>


  <div class="row">
    <x-card *ngFor="let property of data  | async | keyvalue;" width="100%" [header]="header">
      <ng-template #header>
        <span>{{property.key}}</span>
        <x-button type="text">操作按钮</x-button>
      </ng-template>
      <div *ngIf="property.value.length>0">
        <p *ngIf="property.value[0]['mainsnak']['datatype']=='string'">
          {{property.value[0]['mainsnak']['datavalue']['value'] }}</p>
        <div *ngIf="property.value[0]['mainsnak']['datatype']=='commonsMedia'">
          <img width="500" *ngFor="let value of property.value"
            [src]="'http://localhost:9000/kgms/'+value['mainsnak']['datavalue']['value']">
        </div>

        <a *ngIf="property.value[0]['mainsnak']['datatype']=='wikibase-item'">{{property.value[0]['mainsnak']['datavalue']['label']
          }}</a>

      </div>

    </x-card>
  </div>


  <div class="app-footer">
    <x-buttons space="0.5">
      <x-button (click)="action('cancel')">取消</x-button>
      <x-button type="primary" (click)="!formInvalid && action('save')" [disabled]="formInvalid || disabled">保存
      </x-button>
    </x-buttons>
  </div>
</div>