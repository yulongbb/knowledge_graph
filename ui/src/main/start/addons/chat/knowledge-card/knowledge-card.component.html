<div *ngIf="results.length > 0" class="card-container" [style.max-height]="isCollapsed ? '40px' : '250px'">
    <div class="card-header" (click)="toggleCollapse()">
        <fa-icon [icon]="'fa-search'" class="search-icon"></fa-icon>
        <span class="keyword" [ngClass]="{'active': !isCollapsed}">
            {{ isLoading ? '正在检索知识库...' : '知识库检索成功' }}
        </span>
        <span class="result-count">{{ results.length }} 条知识</span>
        <fa-icon [icon]="isCollapsed ? 'fa-chevron-down' : 'fa-chevron-up'"></fa-icon>
    </div>
    <button class="scroll-button left" (click)="scrollLeft()">
        <fa-icon [icon]="faChevronLeft"></fa-icon>
    </button>
    <div class="card-content" #cardContent *ngIf="!isCollapsed">
        <div *ngFor="let result of results" class="knowledge-item" (click)="navigateToDetail(result)">
            <h3 class="label">{{ result["_source"]?.labels?.zh?.value }}</h3>
            <div class="description">{{ result["_source"]?.descriptions?.zh?.value }}</div>
        </div>
    </div>
    <button class="scroll-button right" (click)="scrollRight()">
        <fa-icon [icon]="faChevronRight"></fa-icon>
    </button>
</div>

